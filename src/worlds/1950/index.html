<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>
    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
  </head>
  <body>

    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here. Note that you can use relative links or absolute paths to your world -->
        <!-- credit: HDRMaps @ https://hdrmaps.com/above-the-clouds/ -->
        <img id='skyMap' src='assets/textures/086_hdrmaps_com_free_above_clouds.jpg' crossorigin="anonymous">
        <img id='screenshot' src='assets/textures/world_screenshot.jpg' crossorigin="anonymous">

        <!-- credit: "magic" music - https://soundcloud.com/royaltyfreebackgroundmusic/sets/creative-commons-music-365 -->
        <audio id="magic_music" src="assets/sounds/Magic_Music.mp3" preload="auto" crossorigin="anonymous"></audio>
        <audio id="bike_music" src="assets/sounds/636541__lfinck__bike-01.wav" preload="auto" crossorigin="anonymous"></audio>

        <!-- loading navmesh. Following instructiosn from here: https://github.com/n5ro/aframe-extras/tree/master/src/pathfinding -->
          <a-asset-item id="walls_model" src="assets/models/FirstRoom_walls.glb"></a-asset-item>
          <a-asset-item id="walls2_model" src="assets/models/sensoramaRoom.glb"></a-asset-item>
          <a-asset-item id="floor_model" src="assets/models/floorNav.glb"></a-asset-item>
          <a-asset-item id="floor2_model" src="assets/models/sensoramaFloor.glb"></a-asset-item>
          <a-asset-item id="sensorama_model" src="assets/models/sensorama.glb"></a-asset-item>
          <a-asset-item id="roof_model" src="assets/models/roof.glb"></a-asset-item>
          <a-asset-item id="roof2_model" src="assets/models/roof2.glb"></a-asset-item>
          <a-asset-item id="table_model" src="assets/models/low_height_coffee_table.glb"></a-asset-item>
          <a-asset-item id="teleglass-gltf" src="assets/models/Teleyeglasses.glb" response-type="arraybuffer"></a-asset-item>
          
          <img id="sensorama1_img" src="assets/models/sensorama-patent.png" crossorigin="anonymous">
          <img id="sensorama2_img" src="assets/models/sensorama2.jpg" crossorigin="anonymous">
          <img id="sensorama3_img" src="assets/models/sensoramaBodyCam.jpg" crossorigin="anonymous">
      

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>
        </a-assets>

        <!-- Circles' built-in manager and avatar [REQUIRED] -->
        <circles-manager-avatar/>

        <a-entity circles-checkpoint circles-spawnpoint position="0 0.1 0"></a-entity>
        <a-entity circles-checkpoint position="-2 0.1 -3"></a-entity>
        <a-entity circles-checkpoint position="2 0.1 -3"></a-entity>
        <a-entity circles-checkpoint position="-2 0.1 -5"></a-entity>
        <a-entity circles-checkpoint position="2 0.1 -5"></a-entity>
        <a-entity id="return" circles-checkpoint position="0 0.1 -3"></a-entity>

        <a-entity id="sensorama-xp" circles-checkpoint position="13.7 0.1 -9.6"></a-entity>

        <!-- Handle the Nav mesh (movment limitations) here-->
        <!-- <a-entity id="walKMesh" class="navMesh" gltf-model="#floor_model" position="6.9 0 -6.3" scale="0.7 1 0.7" nav-mesh></a-entity> -->
        <a-entity id="wal2KMesh" class="navMesh" gltf-model="#floor2_model" position="0 0 -3" scale="0.6 1 0.6" nav-mesh></a-entity>

        <!-- Images -->
        <a-entity   id="sensorama1_image" position="-3.25 1.7 -3.2" rotation="0 90 0" scale="1 1 1"
                geometry="primitive:plane; width:1.5; height:1.0;"
                material="src:#sensorama1_img;">
        </a-entity>
        <a-entity   id="sensorama2_image" position="-3.25 1.7 -5.2" rotation="0 90 0" scale="1 1 1"
                geometry="primitive:plane; width:1.5; height:1.0;"
                material="src:#sensorama2_img;">
        </a-entity>
        <a-entity   id="sensorama1_image" position="3.25 1.7 -3.2" rotation="0 -90 0" scale="1 1 1"
                geometry="primitive:plane; width:1.5; height:1.0;"
                material="src:#sensorama1_img;">
        </a-entity>
        <a-entity   id="sensorama2_image" position="3.25 1.7 -5.2" rotation="0 -90 0" scale="1 1 1"
                geometry="primitive:plane; width:1.5; height:1.0;"
                material="src:#sensorama2_img;">
        </a-entity>

        <a-video src="assets/images/pexels-marc-espejo-5952207-960x540-30fps.mp4" width="4.75" height="2.75" rotation="0 45 0" position="14.5 1.5 -8.6"></a-video>
        <a-entity position="14.5 1.5 -8.6"  circles-sound="type:ambient; src:#bike_music; autoplay:true; loop:true; volume:0.8;" maxDistance="25"></a-entity>
        
        <!-- Image text -->
        <a-entity id="sensorama_plane" position="-3.1 0.5 -3" rotation="-40 90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Sensorama; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:In the mid 1950s cinematographer Morton Heilig developed the Sensorama (patented 1962) which was an arcade-style theatre cabinet that would stimulate all the senses, not just sight and sound. It featured stereo speakers, a stereoscopic 3D display, fans, smell generators and a vibrating chair.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
        </a-entity>
        <a-entity id="sensorama2_plane" position="-3.1 0.5 -5" rotation="-40 90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Sensorama; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:In the mid 1950s cinematographer Morton Heilig developed the Sensorama (patented 1962) which was an arcade-style theatre cabinet that would stimulate all the senses, not just sight and sound. It featured stereo speakers, a stereoscopic 3D display, fans, smell generators and a vibrating chair.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
        </a-entity>
        <a-entity id="sensorama_plane" position="3.1 0.5 -3.3" rotation="-40 -90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Sensorama; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:In the mid 1950s cinematographer Morton Heilig developed the Sensorama (patented 1962) which was an arcade-style theatre cabinet that would stimulate all the senses, not just sight and sound. It featured stereo speakers, a stereoscopic 3D display, fans, smell generators and a vibrating chair.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
        </a-entity>
        <a-entity id="sensorama2_plane" position="3.1 0.5 -5.3" rotation="-40 -90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Sensorama; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:In the mid 1950s cinematographer Morton Heilig developed the Sensorama (patented 1962) which was an arcade-style theatre cabinet that would stimulate all the senses, not just sight and sound. It featured stereo speakers, a stereoscopic 3D display, fans, smell generators and a vibrating chair.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
        </a-entity>

        <!--<a-entity id="nasaView" scale="0.2 0.2 0.2" position="0 1.2 -2" rotation="0 180 0" gltf-model="#nasaview_model"></a-entity>-->
        <a-entity id="Artefact-teleglass"  
                scale="0.2 0.2 0.2" position="0 1 -1.5" rotation="0 180 0" 
                gltf-model="#teleglass-gltf"
                class="interactive"
                shadow="receive:false; cast:false;"
                circles-artefact="inspectScale:0.3 0.3 0.3; textRotationY:0.0; textLookAt:false; inspectRotation:0.0 0.0 0; inspectOffsetY:0; 
                        label_visible:true; label_offset:0.0 0.7 0.0; arrow_position:down;
                        title:The VIEW;
                        description:The Virtual Interface Environment Workstation (VIEW) is a head-mounted stereoscopic display system in which the display may be an artificial computer-generated environment or a real environment relayed from remote video cameras.;
                        label_text:The VIEW;">
        </a-entity>

        <a-entity id="sensorama"  scale="0.1 0.1 0.1" position="0 0.2 -5.25" gltf-model="#sensorama_model"></a-entity>
        <a-entity id="coffee_table"  scale="0.7 1 0.7" rotation="0 90 0" position="-0.25 0 -1.25" gltf-model="#table_model"></a-entity>

        <!-- Environment objects-->
        <a-entity id="roof" scale="0.9 0.7 1" position="0 3.9 -3" gltf-model="#roof_model"></a-entity>
        <a-entity id="roof2" scale="0.5 0.5 0.5" position="13.75 3.4 -11.25" gltf-model="#roof2_model"></a-entity>
        <a-entity id="roomPos" position="0 0.1 -3">
                <a-entity id="roomRot" rotation="0 0 0">
                    <a-entity  id="walls" scale="0.7 0.5 0.7" gltf-model="#walls_model"></a-entity>
                </a-entity>
        </a-entity>
        <a-entity id="room2Pos" position="13.7 0.8 -9.6">
                <a-entity id="room2Rot" rotation="0 0 0">
                    <a-entity  id="sensoramWalls" scale="0.7 0.5 0.7" gltf-model="#walls2_model"></a-entity>
                </a-entity>
        </a-entity>

        <a-entity id="room_1950_button_1" position="-0.01 1 -5" scale="0.8 0.8 0.8" circles-button="pedastal_color:rgb(74, 87, 95);" circles-sendpoint="target:#sensorama-xp;"></a-entity>
        <a-entity id="room_1950_button_2" position="14.5 0.8 -10.5" scale="0.8 0.8 0.8" rotation="0 45 0" circles-button="pedastal_color:rgb(74, 87, 95);" circles-sendpoint="target:#return;"></a-entity>

        <!-- ambient music/sound -->
        <a-entity position="0 0 0" circles-sound="type:music; src:#magic_music; autoplay:true; loop:true; volume:0.02;"></a-entity>

        <!-- sky and lights 
        <a-entity id="sunlight" position="0 20 0" rotation="40 0 0" 
                light="type:directional; intensity:4; color:#d5e4f5; castShadow:false;"></a-entity>
        <a-entity light="type:hemisphere; color:#FFFFFF; groundColor:#BCE2F4; intensity:3.0"></a-entity>

        <a-entity id='skyBox'
                rotation='0 200 0'
                geometry='primitive:sphere; radius:50; segments-height:24; segments-width:24;'
                material='shader:flat; src:#skyMap; side:back;'>
        </a-entity>-->

        <a-entity light="type:ambient; color:#FFF; intensity:3.0"></a-entity>
        <a-entity id='skyBox'
                position='0 -3 0'
                rotation='0 30 0'
                geometry='primitive:sphere; radius:50; segments-height:24; segments-width:24;'
                material='shader:flat; src:#skyMap; side:back;'>
        </a-entity>

        <a-entity id="1970_link"
                position="3.25 1.5 0" rotation="0 180 0" scale="1 1 1"
                circles-portal="img_src:#room2; title_text:Go to 1970; link_url:/w/1970"></a-entity>

        <a-entity id="light" position="0.5 -0.5 0" light="type:spot; intensity:0.8; castShadow:true; shadowBias:-0.005; penumbra:0.3;"></a-entity>
        </a-scene>

        <!-- Circles' end scripts [REQUIRED] -->
        <circles-end-scripts/>
  </body>
</html>
