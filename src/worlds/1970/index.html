<html>
  <head>
    <meta charset="utf-8">

    <!-- Circles' head scripts [REQUIRED] -->
    <circles-start-scripts/>
    <!-- add your custom scripts here -->
    <!-- <script src="/worlds/hub/scripts/hub.js"></script> -->
  </head>
  <body>

    <!-- this is used to create our enter UI that creates a 2D overlay to capture a user gesture for sound/mic access etc. -->
    <circles-start-ui/>

    <!-- a-scene with 'circles-properties' component [REQUIRED] -->
    <a-scene circles_scene_properties>
      <a-assets>
        <!-- add your assets here. Note that you can use relative links or absolute paths to your world -->
        <!-- credit: HDRMaps @ https://hdrmaps.com/above-the-clouds/ -->
        <img id='skyMap' src='assets/textures/086_hdrmaps_com_free_above_clouds.jpg' crossorigin="anonymous">
        <img id='screenshot' src='assets/textures/world_screenshot.jpg' crossorigin="anonymous">

        <!-- credit: "magic" music - https://soundcloud.com/royaltyfreebackgroundmusic/sets/creative-commons-music-365 -->
        <audio id="magic_music" src="assets/sounds/Magic_Music.mp3" preload="auto" crossorigin="anonymous"></audio>

        <!-- loading navmesh. Following instructiosn from here: https://github.com/n5ro/aframe-extras/tree/master/src/pathfinding -->
        <a-asset-item id="walls_model" src="assets/models/SecondRoom_walls.glb"></a-asset-item>
        <a-asset-item id="floor_model" src="assets/models/floorNav2.glb"></a-asset-item>
        <a-asset-item id="roof_model" src="assets/models/roof.glb"></a-asset-item>

        <img id="cave1_img" src="assets/images/cavevr.jpg" crossorigin="anonymous">
        <img id="cave2_img" src="assets/images/cavevr2.jpg" crossorigin="anonymous">

        <img id="1950_lk" src="assets/images/doors/1950door.png" crossorigin="anonymous">
        <img id="1980_lk" src="assets/images/doors/1980door.png" crossorigin="anonymous">

        <video id="video" autoplay loop="true" src="assets/images/360_vr_master_series___free_download___london_on_tower_bridge (720p).mp4"> </video>
        </a-assets>

        <!-- Circles' built-in assets [REQUIRED] -->
        <circles-assets/>

        <!-- Circles' built-in manager and avatar [REQUIRED] -->
        <circles-manager-avatar/>

        <a-entity id="default" circles-checkpoint circles-spawnpoint position="0 0.1 0"></a-entity>
        <a-entity circles-checkpoint position="-2 0.1 -5.5"></a-entity>
        <a-entity circles-checkpoint position="2 0.1 -5.5"></a-entity>
        <a-entity circles-checkpoint position="-2 0.1 -8"></a-entity>
        <a-entity circles-checkpoint position="2 0.1 -8"></a-entity>
        <a-entity circles-checkpoint position="4.75 0.2 -12.3"></a-entity>
        <a-entity circles-checkpoint position="3.2 0.2 -10.7"></a-entity>

        <!-- Handle the Nav mesh (movment limitations) here-->
        <a-entity id="walKMesh" class="navMesh" gltf-model="#floor_model" position="-0.2 0 -4.2" scale="0.9 0.9 0.8" nav-mesh></a-entity>


        <!-- Images -->
        <a-entity   id="cave1_image" position="-3.4 1.7 -7.6" rotation="0 90 0" scale="1 1 1"
        geometry="primitive:plane; width:1.5; height:1.0;"
        material="src:#cave1_img;">
        </a-entity>
        <a-entity   id="cave2_image" position="-3.4 1.7 -5.6" rotation="0 90 0" scale="1 1 1"
        geometry="primitive:plane; width:1.5; height:1.0;"
        material="src:#cave2_img;">
        </a-entity>
        <a-entity   id="cave1_image" position="3.4 1.7 -7.4" rotation="0 -90 0" scale="1 1 1"
        geometry="primitive:plane; width:1.5; height:1.0;"
        material="src:#cave1_img;">
        </a-entity>
        <a-entity   id="cave2_image" position="3.4 1.7 -5.4" rotation="0 -90 0" scale="1 1 1"
        geometry="primitive:plane; width:1.5; height:1.0;"
        material="src:#cave2_img;">
        </a-entity>
            
            <!-- Image text -->
            <a-entity id="cavevrconcept_plane" position="-3.2 0.5 -7.5" rotation="-40 90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Cave VR Concept; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
            </a-entity>
            <a-entity id="cavevrhistory_plane" position="-3.2 0.5 -5.5" rotation="-40 90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Cave VR History;
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:The Cave VR envelops the user in a 360 virtual reality experience. The data regarding this VR is very hard to find due to the lack of research and demand for this type of VR, however with the growing popularity of modern VR, Cave VR could make a comeback.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
            </a-entity>
            <a-entity id="sensorama_plane" position="3.2 0.5 -7.5" rotation="-40 -90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Sensorama; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:In the mid 1950s cinematographer Morton Heilig developed the Sensorama (patented 1962) which was an arcade-style theatre cabinet that would stimulate all the senses, not just sight and sound. It featured stereo speakers, a stereoscopic 3D display, fans, smell generators and a vibrating chair.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
            </a-entity>
            <a-entity id="sensorama2_plane" position="3.2 0.5 -5.5" rotation="-40 -90 0" scale="1 1 1">
                <a-entity geometry="primitive:box; width:1.8; height:0.8; depth:0.05;" material="color:white;" position="0.2 0 0" shadow></a-entity>
                <a-entity text="value:Sensorama; 
                        color:black; font:roboto; width:1; anchor:left; baseline:top; wrapCount:16;" position="-0.5 0.3 0.05" ></a-entity>
                <a-entity text="value:In the mid 1950s cinematographer Morton Heilig developed the Sensorama (patented 1962) which was an arcade-style theatre cabinet that would stimulate all the senses, not just sight and sound. It featured stereo speakers, a stereoscopic 3D display, fans, smell generators and a vibrating chair.;
                        color:black; font:roboto; width:1.5; anchor:left; baseline:top; wrapCount:38;" position="-0.6 0.2 0.05" ></a-entity>
            </a-entity>

            <!-- Environment objects-->
            <a-entity id="roof" scale="1.5 0.7 1.4" position="2 3.9 -5.5" gltf-model="#roof_model"></a-entity>
            <a-entity id="roomPos" position="1.62 0.1 -6.45">
                <a-entity id="roomRot" rotation="0 0 0">
                    <a-entity  id="walls" scale="0.75 0.55 0.75" position="-1.75 0 2" gltf-model="#walls_model"></a-entity>
                </a-entity>
            </a-entity>

            <a-videosphere src="#video" position="4.75 1.5 -12.3" radius="2.25"></a-videosphere>

        <!-- ambient music/sound -->
        <a-entity position="0 0 0" circles-sound="type:music; src:#magic_music; autoplay:true; loop:true; volume:0.02;"></a-entity>

        <!-- sky and lights -->
        <a-entity id="sunlight" position="0 20 0" rotation="40 0 0" 
                light="type:directional; intensity:4; color:#d5e4f5; castShadow:false;"></a-entity>
        <a-entity light="type:hemisphere; color:#FFFFFF; groundColor:#BCE2F4; intensity:3.0"></a-entity>

        <a-entity id='skyBox'
                rotation='0 200 0'
                geometry='primitive:sphere; radius:50; segments-height:24; segments-width:24;'
                material='shader:flat; src:#skyMap; side:back;'>
        </a-entity>

        <a-entity id="1950_link"
                position="-3.4 1.5 -0.5" rotation="0 0 0" scale="1 1 1"
                circles-portal="img_src:#1950_lk; title_text:Back to 1950; link_url:/w/1950"></a-entity>

        <a-entity id="1980_link"
                position="3.1 1.5 -0.5" rotation="0 180 0" scale="1 1 1"
                circles-portal="img_src:#1980_lk; title_text:Go to 1980; link_url:/w/1980"></a-entity>

        </a-scene>

        <!-- Circles' end scripts [REQUIRED] -->
        <circles-end-scripts/>
  </body>
</html>
